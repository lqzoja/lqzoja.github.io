

  

<!-- page -->
<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">

<title>code | SW_Wind&#39;s blog</title>

<script src="/js/jquery-2.0.3.min.js"></script>
<link rel="stylesheet" type="text/css" href="/css/style.css">
<!-- Mathjax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<!-- Valine -->
<script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/js/Valine.min.js"></script>
  </head>
  <body>
    <header>
      <div style="background-image: url(/img/author.jpg)" class="author_img"></div>
<div class="blog-title">
	<p class="title">SW_Wind&#39;s blog</p>
	<p class="subtitle">你指尖跃动的电光，是我此生不变的信仰</p>
</div>
<ul class="headerlinks">

  <li><a href="/">首页</a></li>

  <li><a href="/about">关于</a></li>

  <li><a href="/archives">档案</a></li>

  <li><a href="/tags">标签云</a></li>

</ul>
    </header>
    <div class="container">
      <div class="main">
        <div class="page">
  <article>
    <div class="artc-title">
      <h1>code</h1>
      <p><span class="time-icon">2017-05-05</span><span class="author-icon">SW_Wind</span></p>
    </div>
    <div class="artc">
      
        <div class="toc-father">
          <strong class="toc-title">文章目录</strong>
          
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#模板类"><span class="toc-number">2.</span> <span class="toc-text">模板类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#高精度"><span class="toc-number">2.1.</span> <span class="toc-text">高精度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#矩阵"><span class="toc-number">2.2.</span> <span class="toc-text">矩阵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zhzh大佬的IO优化"><span class="toc-number">2.3.</span> <span class="toc-text">zhzh大佬的IO优化</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#模板方法"><span class="toc-number">3.</span> <span class="toc-text">模板方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#读入输出优化"><span class="toc-number">3.1.</span> <span class="toc-text">读入输出优化</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#其他"><span class="toc-number">4.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#佛祖"><span class="toc-number">4.1.</span> <span class="toc-text">佛祖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关同步"><span class="toc-number">4.2.</span> <span class="toc-text">关同步</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#头文件"><span class="toc-number">4.3.</span> <span class="toc-text">头文件</span></a></li></ol></li></ol>
          
        </div>
      
      <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>突然觉得如果在博客里放一个方便复制粘贴的模板页面就好了、、、<br>于是这个页面就诞生了、、、<br>正在慢慢加。</p>
<p>目录</p>
<ul>
<li><a href="#模板类">模板类</a><ul>
<li><a href="#高精度">高精度</a></li>
<li><a href="#矩阵">矩阵</a></li>
<li><a href="#zhzh大佬的IO优化">zhzh大佬的IO优化</a></li>
</ul>
</li>
<li><a href="#模板方法">模板方法</a><ul>
<li><a href="#读入输出优化">读入输出优化</a></li>
</ul>
</li>
<li><a href="#其他">其他</a><ul>
<li><a href="#佛祖">佛祖</a></li>
<li><a href="#关同步">关同步</a></li>
<li><a href="#头文件">头文件</a></li>
</ul>
</li>
</ul>
<h1 id="模板类"><a href="#模板类" class="headerlink" title="模板类"></a>模板类</h1><ul>
<li><a href="#高精度">高精度</a></li>
<li><a href="#矩阵">矩阵</a></li>
<li><a href="#zhzh大佬的IO优化">zhzh大佬的IO优化</a></li>
</ul>
<h2 id="高精度"><a href="#高精度" class="headerlink" title="高精度"></a>高精度</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">struct</span> huge&#123;</div><div class="line">	<span class="meta">#<span class="meta-keyword">define</span> N_huge 1505</span></div><div class="line">	<span class="meta">#<span class="meta-keyword">define</span> base 100000000</span></div><div class="line">	<span class="keyword">static</span> <span class="keyword">char</span> s[N_huge*<span class="number">10</span>];</div><div class="line">	<span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> value;</div><div class="line">	value a[N_huge];<span class="keyword">int</span> len;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;len=<span class="number">1</span>;a[len]=<span class="number">0</span>;&#125;</div><div class="line">	huge()&#123;clear();&#125;</div><div class="line">	huge(value x)&#123;*<span class="keyword">this</span>=x;&#125;</div><div class="line">	huge <span class="keyword">operator</span> =(huge b)&#123;</div><div class="line">		len=b.len;<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;++i)a[i]=b.a[i]; <span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">	&#125;</div><div class="line">	huge <span class="keyword">operator</span> +(huge b)&#123;</div><div class="line">		<span class="keyword">int</span> L=len&gt;b.len?len:b.len;huge tmp;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=L+<span class="number">1</span>;++i)tmp.a[i]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=L;++i)&#123;</div><div class="line">			<span class="keyword">if</span> (i&gt;len)tmp.a[i]+=b.a[i];</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (i&gt;b.len)tmp.a[i]+=a[i];</div><div class="line">			<span class="keyword">else</span> &#123;</div><div class="line">				tmp.a[i]+=a[i]+b.a[i];</div><div class="line">				<span class="keyword">if</span> (tmp.a[i]&gt;=base)&#123;</div><div class="line">					tmp.a[i]-=base;++tmp.a[i+<span class="number">1</span>];</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (tmp.a[L+<span class="number">1</span>])tmp.len=L+<span class="number">1</span>;</div><div class="line">			<span class="keyword">else</span> tmp.len=L;</div><div class="line">		<span class="keyword">return</span> tmp;</div><div class="line">	&#125;</div><div class="line">	huge <span class="keyword">operator</span> -(huge b)&#123;</div><div class="line">		<span class="keyword">int</span> L=len&gt;b.len?len:b.len;huge tmp;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=L+<span class="number">1</span>;++i)tmp.a[i]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=L;++i)&#123;</div><div class="line">			<span class="keyword">if</span> (i&gt;b.len)b.a[i]=<span class="number">0</span>;</div><div class="line">			tmp.a[i]+=a[i]-b.a[i];</div><div class="line">			<span class="keyword">if</span> (tmp.a[i]&lt;<span class="number">0</span>)&#123;</div><div class="line">				tmp.a[i]+=base;--tmp.a[i+<span class="number">1</span>];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">while</span> (L&gt;<span class="number">1</span>&amp;&amp;!tmp.a[L])--L;</div><div class="line">		tmp.len=L;</div><div class="line">		<span class="keyword">return</span> tmp;</div><div class="line">	&#125;</div><div class="line">	huge <span class="keyword">operator</span> *(<span class="keyword">const</span> huge &amp;b)&#123;</div><div class="line">		<span class="keyword">int</span> L=len+b.len;huge tmp;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=L;++i)tmp.a[i]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">register</span> value *Tmp=tmp.a;</div><div class="line">		<span class="keyword">const</span> <span class="keyword">register</span> value *B=b.a;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">register</span> <span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=b.len;++j)</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">register</span> <span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;++i)</div><div class="line">				Tmp[i+j<span class="number">-1</span>]+=a[i]*B[j];</div><div class="line">		tmp.len=len+b.len;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;tmp.len;++i)</div><div class="line">			<span class="keyword">if</span> (tmp.a[i]&gt;=base)&#123;</div><div class="line">				tmp.a[i+<span class="number">1</span>]+=tmp.a[i]/base;</div><div class="line">				tmp.a[i]%=base;</div><div class="line">			&#125;</div><div class="line">		<span class="keyword">while</span> (tmp.len&gt;<span class="number">1</span>&amp;&amp;!tmp.a[tmp.len])--tmp.len;</div><div class="line">		<span class="keyword">return</span> tmp;</div><div class="line">	&#125;</div><div class="line">	pair&lt;huge,huge&gt; divide(huge a,huge b)&#123;</div><div class="line">		<span class="keyword">int</span> L=a.len;huge c,d;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=L;i;--i)&#123;</div><div class="line">			c.a[i]=<span class="number">0</span>;d=d*base;d.a[<span class="number">1</span>]=a.a[i];</div><div class="line">			<span class="keyword">int</span> l=<span class="number">0</span>,r=base<span class="number">-1</span>,mid;</div><div class="line">			<span class="keyword">while</span> (l&lt;r)&#123;</div><div class="line">				mid=(l+r+<span class="number">1</span>)&gt;&gt;<span class="number">1</span>;</div><div class="line">				<span class="keyword">if</span> (b*mid&lt;=d)l=mid;</div><div class="line">					<span class="keyword">else</span> r=mid<span class="number">-1</span>;</div><div class="line">			&#125;</div><div class="line">			c.a[i]=l;d-=b*l;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">while</span> (L&gt;<span class="number">1</span>&amp;&amp;!c.a[L])--L;c.len=L;</div><div class="line">		<span class="keyword">return</span> make_pair(c,d);</div><div class="line">	&#125;</div><div class="line">	huge <span class="keyword">operator</span> /(value x)&#123;</div><div class="line">		value d=<span class="number">0</span>;huge tmp;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=len;i;--i)&#123;</div><div class="line">			d=d*base+a[i];</div><div class="line">			tmp.a[i]=d/x;d%=x;</div><div class="line">		&#125;</div><div class="line">		tmp.len=len;</div><div class="line">		<span class="keyword">while</span> (tmp.len&gt;<span class="number">1</span>&amp;&amp;!tmp.a[tmp.len])--tmp.len;</div><div class="line">		<span class="keyword">return</span> tmp;</div><div class="line">	&#125;</div><div class="line">	value <span class="keyword">operator</span> %(value x)&#123;</div><div class="line">		value d=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=len;i;--i)d=(d*base+a[i])%x;</div><div class="line">		<span class="keyword">return</span> d;</div><div class="line">	&#125;</div><div class="line">	huge <span class="keyword">operator</span> /(huge b)&#123;<span class="keyword">return</span> divide(*<span class="keyword">this</span>,b).first;&#125;</div><div class="line">	huge <span class="keyword">operator</span> %(huge b)&#123;<span class="keyword">return</span> divide(*<span class="keyword">this</span>,b).second;&#125;</div><div class="line">	huge &amp;<span class="keyword">operator</span> +=(huge b)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>+b;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge &amp;<span class="keyword">operator</span> -=(huge b)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>-b;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge &amp;<span class="keyword">operator</span> *=(huge b)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>*b;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge &amp;<span class="keyword">operator</span> ++()&#123;huge T;T=<span class="number">1</span>;*<span class="keyword">this</span>=*<span class="keyword">this</span>+T;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge &amp;<span class="keyword">operator</span> --()&#123;huge T;T=<span class="number">1</span>;*<span class="keyword">this</span>=*<span class="keyword">this</span>-T;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge <span class="keyword">operator</span> ++(<span class="keyword">int</span>)&#123;huge T,tmp=*<span class="keyword">this</span>;T=<span class="number">1</span>;*<span class="keyword">this</span>=*<span class="keyword">this</span>+T;<span class="keyword">return</span> tmp;&#125;</div><div class="line">	huge <span class="keyword">operator</span> --(<span class="keyword">int</span>)&#123;huge T,tmp=*<span class="keyword">this</span>;T=<span class="number">1</span>;*<span class="keyword">this</span>=*<span class="keyword">this</span>-T;<span class="keyword">return</span> tmp;&#125;</div><div class="line">	huge <span class="keyword">operator</span> +(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>+T;&#125;</div><div class="line">	huge <span class="keyword">operator</span> -(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>-T;&#125;</div><div class="line">	huge <span class="keyword">operator</span> *(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>*T;&#125;</div><div class="line">	huge <span class="keyword">operator</span> *=(value x)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>*x;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge <span class="keyword">operator</span> +=(value x)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>+x;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge <span class="keyword">operator</span> -=(value x)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>-x;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge <span class="keyword">operator</span> /=(value x)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>/x;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	huge <span class="keyword">operator</span> %=(value x)&#123;*<span class="keyword">this</span>=*<span class="keyword">this</span>%x;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> ==(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>==T;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> !=(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>!=T;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;=(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>&lt;=T;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &gt;=(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>&gt;=T;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>&lt;T;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &gt;(value x)&#123;huge T;T=x;<span class="keyword">return</span> *<span class="keyword">this</span>&gt;T;&#125;</div><div class="line">	huge <span class="keyword">operator</span> =(value x)&#123;</div><div class="line">		len=<span class="number">0</span>;</div><div class="line">		<span class="keyword">while</span> (x)a[++len]=x%base,x/=base;</div><div class="line">		<span class="keyword">if</span> (!len)a[++len]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(huge b)&#123;</div><div class="line">		<span class="keyword">if</span> (len&lt;b.len)<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">		<span class="keyword">if</span> (len&gt;b.len)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=len;i;--i)&#123;</div><div class="line">			<span class="keyword">if</span> (a[i]&lt;b.a[i])<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">			<span class="keyword">if</span> (a[i]&gt;b.a[i])<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> ==(huge b)&#123;</div><div class="line">		<span class="keyword">if</span> (len!=b.len)<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=len;i;--i)</div><div class="line">			<span class="keyword">if</span> (a[i]!=b.a[i])<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> !=(huge b)&#123;<span class="keyword">return</span> !(*<span class="keyword">this</span>==b);&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &gt;(huge b)&#123;<span class="keyword">return</span> !(*<span class="keyword">this</span>&lt;b||*<span class="keyword">this</span>==b);&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;=(huge b)&#123;<span class="keyword">return</span> (*<span class="keyword">this</span>&lt;b)||(*<span class="keyword">this</span>==b);&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &gt;=(huge b)&#123;<span class="keyword">return</span> (*<span class="keyword">this</span>&gt;b)||(*<span class="keyword">this</span>==b);&#125;</div><div class="line">	<span class="function">huge <span class="title">str</span><span class="params">(<span class="keyword">char</span> s[])</span></span>&#123;</div><div class="line">		<span class="keyword">int</span> l=<span class="built_in">strlen</span>(s);value x=<span class="number">0</span>,y=<span class="number">1</span>;len=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=l<span class="number">-1</span>;i&gt;=<span class="number">0</span>;--i)&#123;</div><div class="line">			x=x+(s[i]-<span class="string">'0'</span>)*y;y*=<span class="number">10</span>;</div><div class="line">			<span class="keyword">if</span> (y==base)a[++len]=x,x=<span class="number">0</span>,y=<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (!len||x)a[++len]=x;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);<span class="keyword">this</span>-&gt;str(s);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d"</span>,(<span class="keyword">int</span>)a[len]);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=len<span class="number">-1</span>;i;--i)&#123;</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j=base/<span class="number">10</span>;j&gt;=<span class="number">10</span>;j/=<span class="number">10</span>)&#123;</div><div class="line">				<span class="keyword">if</span> (a[i]&lt;j)<span class="built_in">printf</span>(<span class="string">"0"</span>);</div><div class="line">					<span class="keyword">else</span> <span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d"</span>,(<span class="keyword">int</span>)a[i]);</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;;<span class="keyword">char</span> huge::s[N_huge*<span class="number">10</span>];</div></pre></td></tr></table></figure>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="keyword">struct</span> Matrix&#123;</div><div class="line">	<span class="meta">#<span class="meta-keyword">define</span> MSZ 3</span></div><div class="line">	<span class="keyword">int</span> num[MSZ][MSZ];</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;<span class="built_in">memset</span>(num, <span class="number">0</span>, <span class="keyword">sizeof</span> num);&#125;</div><div class="line">	Matrix()&#123;clear();&#125;</div><div class="line">	Matrix(<span class="keyword">bool</span> flag)&#123;clear();<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MSZ; i++)num[i][i]=<span class="number">1</span>;&#125;</div><div class="line">	<span class="keyword">int</span>* <span class="keyword">operator</span> [] (<span class="keyword">int</span> &amp;i) &#123;<span class="keyword">return</span> num[i];&#125;</div><div class="line">	<span class="keyword">friend</span> Matrix <span class="keyword">operator</span> * (Matrix &amp;a, Matrix &amp;b)&#123;</div><div class="line">		Matrix c;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; MSZ; k++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MSZ; i++) <span class="keyword">if</span>(a[i][k])</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; MSZ; j++) <span class="keyword">if</span>(b[k][j])</div><div class="line">					c[i][j] = (c[i][j]+a[i][k]*b[k][j])%mod;</div><div class="line">		<span class="keyword">return</span> c;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">friend</span> Matrix <span class="keyword">operator</span> ^ (Matrix a, ll b)&#123;</div><div class="line">		<span class="function">Matrix <span class="title">c</span><span class="params">(<span class="literal">true</span>)</span></span>;</div><div class="line">		<span class="keyword">for</span>(;b;b/=<span class="number">2</span>,a=a*a)<span class="keyword">if</span>(b&amp;<span class="number">1</span>)c=c*a;</div><div class="line">		<span class="keyword">return</span> c;</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="zhzh大佬的IO优化"><a href="#zhzh大佬的IO优化" class="headerlink" title="zhzh大佬的IO优化"></a>zhzh大佬的IO优化</h2><figure class="highlight"><table><tr><td class="code"><pre><div class="line">class FileInputStream&#123;private:static const size_t defaultBufsz=1e6;FILE *stream;size_t bufsz;char *buf,*p;bool good;void fetch()&#123;if(!buf) p = buf = new char [bufsz+1];size_t sz = fread(buf,1,bufsz,stream);p = buf; buf[sz] = '\0';good = sz;&#125;char nextchar()&#123;if(!*p) fetch();return *p++;&#125;template&lt;typename Int&gt;void readint(Int&amp; x)&#123;char c;for(c=nextchar();isspace(c);c=nextchar());x = 0;Int sign = 1;if(c=='-')sign = -1, c = nextchar();for(;isdigit(c);c = nextchar()) x=x*10+c-'0';x*=sign;&#125;public:FileInputStream():stream(NULL),bufsz(defaultBufsz),buf(NULL),p(NULL),good(false)&#123;&#125;explicit FileInputStream(const std::string&amp; filename,size_t bufsz=defaultBufsz):stream(fopen(filename.c_str(),"r")),bufsz(bufsz),buf(NULL),p(NULL),good(false)&#123;fetch();&#125;explicit FileInputStream(FILE *stream,size_t bufsz=defaultBufsz):stream(stream),bufsz(bufsz),buf(NULL),p(NULL),good(false)&#123;fetch();&#125;bool close()&#123;return !fclose(stream);&#125;~FileInputStream()&#123;close();delete [] buf;&#125;operator bool()const&#123;return good;&#125;bool operator!()const&#123;return !good;&#125;bool open(const std::string&amp; filename,size_t bufsz=defaultBufsz)&#123;stream=fopen(filename.c_str(),"r");this-&gt;bufsz=bufsz;fetch();return stream;&#125;bool open(FILE *stream,size_t bufsz=defaultBufsz)&#123;this-&gt;stream=stream;this-&gt;bufsz=bufsz;fetch();return stream;&#125;FileInputStream&amp; operator&gt;&gt;(short&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(unsigned short&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(int&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(unsigned int&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(long&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(unsigned long&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(long long&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(unsigned long long&amp; value)&#123;readint(value);return *this;&#125;FileInputStream&amp; operator&gt;&gt;(char&amp; c)&#123;for(c=nextchar();isspace(c);c=nextchar());return *this;&#125;FileInputStream&amp; operator&gt;&gt;(std::string&amp; s)&#123;char c;for(c=nextchar();isspace(c);c=nextchar());s.clear();for(;good&amp;&amp;!isspace(c);c=nextchar())s+=c;return *this;&#125;friend FileInputStream&amp; getline(FileInputStream&amp; is,std::string&amp; s,char delim='\n');&#125;;FileInputStream&amp; getline(FileInputStream&amp; is,std::string&amp; s,char delim)&#123;char c;s.clear();for(c=is.nextchar();is.good&amp;&amp;c!=delim;c=is.nextchar())s+=c;return is;&#125;</div><div class="line">class FileOutputStream&#123;private:static const size_t defaultBufsz=1e6;FILE *stream;size_t bufsz;char *buf,*p,dig[25];public:FileOutputStream():stream(NULL),bufsz(defaultBufsz),buf(NULL),p(NULL)&#123;&#125;explicit FileOutputStream(const std::string&amp; filename,size_t bufsz=defaultBufsz):stream(fopen(filename.c_str(),"w")),bufsz(bufsz),buf(new char [bufsz]),p(buf)&#123;&#125;explicit FileOutputStream(FILE *stream,size_t bufsz=defaultBufsz):stream(stream),bufsz(bufsz),buf(new char [bufsz]),p(buf)&#123;&#125;bool close()&#123;return !fclose(stream);&#125;void flush()&#123;fwrite(buf,1,p-buf,stream);p=buf;&#125;private:void writechar(char c)&#123;*p++=c;if(p==buf+bufsz)flush();&#125;template&lt;typename Int&gt;void writeint(Int x)&#123;if(x&lt;0)writechar('-'),x=-x;int len=0;do dig[++len]=x%10;while(x/=10);for(;len;len--)writechar(dig[len]+'0');&#125;public:~FileOutputStream()&#123;flush();close();delete [] buf;&#125;bool open(const std::string&amp; filename,size_t bufsz=defaultBufsz)&#123;stream=fopen(filename.c_str(),"w");this-&gt;bufsz=bufsz;delete [] buf;p=buf=new char [bufsz];return stream;&#125;bool open(FILE *stream,size_t bufsz=defaultBufsz)&#123;this-&gt;stream=stream;this-&gt;bufsz=bufsz;delete [] buf;p=buf=new char [bufsz];return stream;&#125;FileOutputStream&amp; operator &lt;&lt;(short value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(unsigned short value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(int value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(unsigned int value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(long value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(unsigned long value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(long long value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(unsigned long long value)&#123;writeint(value);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(char c)&#123;writechar(c);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(const std::string&amp; s)&#123;for(size_t i=0;i&lt;s.length();i++)writechar(s[i]);return *this;&#125;FileOutputStream&amp; operator &lt;&lt;(FileOutputStream&amp; (*func)(FileOutputStream&amp;))&#123;return func(*this);&#125;friend FileOutputStream&amp; endl(FileOutputStream&amp; os);&#125;;FileOutputStream&amp; endl(FileOutputStream&amp; os)&#123;os.writechar('\n');return os;&#125;</div></pre></td></tr></table></figure>
<h1 id="模板方法"><a href="#模板方法" class="headerlink" title="模板方法"></a>模板方法</h1><ul>
<li><a href="#读入输出优化">读入输出优化</a></li>
</ul>
<h2 id="读入输出优化"><a href="#读入输出优化" class="headerlink" title="读入输出优化"></a>读入输出优化</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> x=<span class="number">0</span>,f=<span class="number">0</span>;<span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">while</span>(ch&gt;<span class="string">'9'</span>||ch&lt;<span class="string">'0'</span>)&#123;<span class="keyword">if</span>(ch==<span class="string">'-'</span>)f=<span class="number">1</span>;ch=getchar();&#125;</div><div class="line">	<span class="keyword">while</span>(ch&lt;=<span class="string">'9'</span>&amp;&amp;ch&gt;=<span class="string">'0'</span>)&#123;x=(x&lt;&lt;<span class="number">3</span>)+(x&lt;&lt;<span class="number">1</span>)+ch-<span class="string">'0'</span>;ch=getchar();&#125;</div><div class="line">	<span class="keyword">return</span> f?-x:x;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(x &gt; <span class="number">9</span>) write(x/<span class="number">10</span>);</div><div class="line">	<span class="built_in">putchar</span>(x%<span class="number">10</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">writeln</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	write(x); <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><ul>
<li><a href="#佛祖">佛祖</a></li>
<li><a href="#关同步">关同步</a></li>
<li><a href="#头文件">头文件</a></li>
</ul>
<h2 id="佛祖"><a href="#佛祖" class="headerlink" title="佛祖"></a>佛祖</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="comment">///////////////////////////////////////////////////////////////////</span></div><div class="line"><span class="comment">//                            _ooOoo_                            //</span></div><div class="line"><span class="comment">//                           o8888888o                           //</span></div><div class="line"><span class="comment">//                           88" . "88                           //</span></div><div class="line"><span class="comment">//                           (| ^_^ |)                           //</span></div><div class="line"><span class="comment">//                           O\  =  /O                           //</span></div><div class="line"><span class="comment">//                        ____/`---'\____                        //</span></div><div class="line"><span class="comment">//                      .'  \\|     |//  `.                      //</span></div><div class="line"><span class="comment">//                     /  \\|||  :  |||//  \                     //</span></div><div class="line"><span class="comment">//                    /  _||||| -:- |||||-  \                    //</span></div><div class="line"><span class="comment">//                    |   | \\\  -  /// |   |                    //</span></div><div class="line"><span class="comment">//                    | \_|  ''\---/''  |   |                    //</span></div><div class="line"><span class="comment">//                    \  .-\__  `-`  ___/-. /                    //</span></div><div class="line"><span class="comment">//                  ___`. .'  /--.--\  `. . ___                  //</span></div><div class="line"><span class="comment">//               ."" '&lt;  `.___\_&lt;|&gt;_/___.'  &gt;'"".                //</span></div><div class="line"><span class="comment">//              | | :  `- \`.;`\ _ /`;.`/ - ` : | |              //</span></div><div class="line"><span class="comment">//              \  \ `-.   \_ __\ /__ _/   .-` /  /              //</span></div><div class="line"><span class="comment">//       ========`-.____`-.___\_____/___.-`____.-'========       //</span></div><div class="line"><span class="comment">//                            `=---='                            //</span></div><div class="line"><span class="comment">//       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^       //</span></div><div class="line"><span class="comment">//                     佛祖保佑      RP++                        //</span></div><div class="line"><span class="comment">///////////////////////////////////////////////////////////////////</span></div></pre></td></tr></table></figure>
<h2 id="关同步"><a href="#关同步" class="headerlink" title="关同步"></a>关同步</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line">ios::sync_with_stdio(<span class="literal">false</span>);</div></pre></td></tr></table></figure>
<h2 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div></pre></td></tr></table></figure>
    </div>
    <div class="article-catetags">


</div>

  </article>
</div>  
        
          
	<div class="this-is-a-very-long-class-name" id="comments"></div>
	<script type="text/javascript">
		new Valine({
            av: AV, 
            el: '.this-is-a-very-long-class-name',
            app_id: 'h3fpaex2rIrXIA4BXkhAT9H0-gzGzoHsz',
            app_key: 'Ar7Yt5v6dLnd0v7G3reEnXkL',
            placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',
            notify: true,
  			verify: true
        });
	</script>

        
      </div>
      <aside class="sidebar">

  <div class="hitokoto">
  <p class="sidebar-title">一言</p>
  <div class="hitokoto-text" id="yiyan-text">Loading...</div>
  <div class="hitokoto-author" id="yiyan-author"></div>
  <script type="text/javascript">$.get("https://sslapi.hitokoto.cn/?c=ac",function(data){var yy=JSON.parse(data);$('#yiyan-text').html(yy.hitokoto);$('#yiyan-author').html('《'+yy.from+'》');})</script>
</div>

  <div class="linkslist">
  <p class="sidebar-title">友情链接</p>
  <div class="sidebar-main">
    <ul>
      <li><a href="https://shenzhebei.github.io/" target="_blank">SHENZHEBEI</a></li>
      <li><a href="http://blog.csdn.net/largecub233/" target="_blank">largecub233</a></li>
      <li><a href="http://blog.csdn.net/Fop_zz/" target="_blank">Fop_zz</a></li>
      <li><a href="http://blog.csdn.net/jzq233jzq/" target="_blank">jzq233jzq</a></li>
      <li><a href="https://zhzh2001.github.io/" target="_blank">zhzh2001</a></li>
      <li><a href="http://blog.csdn.net/mdnd1234/" target="_blank">mdnd</a></li>
      <li><a href="http://www.bilibili.com/" target="_blank">bilibili(乱入)</a></li>
      <li><a href="http://blog.csdn.net/zhouyuyang233/" target="_blank">zhouyuyang233</a></li>
      <li><a href="https://littleredstar.github.io/" target="_blank">black_moon</a></li>
      <li><a href="https://problem233.github.io/" target="_blank">problem233</a></li>
      <li><a href="http://blog.csdn.net/nn020701/" target="_blank">nn020701</a></li>
    </ul>
  </div>
</div>

</aside>
    </div>
    <footer>
      <p>Powered by <a href="https://hexo.io/" target="view_window">Hexo</a> and theme by <a href="https://github.com/swwind/hacker" target="view_window">Hacker</a></p>
    </footer>
    <!-- It must be a script element -->
  </body>
</html>

  

